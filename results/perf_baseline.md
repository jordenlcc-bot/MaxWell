# Maxwell-AI 性能基线测试报告 (v0.1)

> 报告存放路径：`results/perf_baseline.md`
> 本基准测试用于提供「可复现的 Maxwell-AI 算法与硬件性能基准」，用于后续引入架构或机制改动时的效果评估参照。

## 1. 测试环境

* **硬件配置**：
  * **GPU**：NVIDIA GeForce RTX 3050 6GB Laptop GPU
  * **CPU**：基于系统读取的本地 x86 CPU（含 4 线程移动推理环境测试）
  * **边缘设备**：Android Tablet (ARM64)
* **软件栈**：
  * Python 3.11+, PyTorch 2.5 (配置 CUDA 12.1)
  * TensorFlow Lite Benchmark Tool (运行 Android INT8 测试)
* **统一参数**：
  * 随机种子：42
  * 计时标准：`torch.cuda.synchronize()` / 平均 step 耗时（抛去 Warmup）

---

## 2. 核心实验与对照组基线 (RTX 3050 Laptop GPU)

通过 `benchmark_baseline.py` 测试在桌面端 GPU 上的运行表现，并加入自动混合精度（AMP）与通用视觉模型的横向对照。

### Maxwell-PINN 核心计算开销

*基于 `DisplacementPINN2D`，隐层维度=128，深度=5，输入点数=4096。*

| 精度设定 | 模型配置 | 平均耗时 (ms/step) | 显存峰值 (MB) |
| :--- | :--- | :--- | :--- |
| **FP32** | Batch=1 | 2.40 | 20.8 |
| **FP32** | Batch=8 | 14.11 | 105.1 |
| **FP32** | Batch=32 | 55.92 | 394.8 |
| **FP16 (AMP)** | Batch=1 | 2.00 | 15.1 |
| **FP16 (AMP)** | Batch=8 | 7.11 | 57.5 |
| **FP16 (AMP)** | Batch=32 | 28.01 | 203.1 |

**基线结论**：在开启 AMP 后（如 Batch=8），由于核心算子以标准矩阵乘法为主，模型能充分利用 Tensor Cores，平均耗时与显存消耗均缩减近 50%。

### 辅助对照组开销

用于衡量在相同测试周期与环境下的其它典型计算模式消耗。

| 任务类型 | 精度设定 | 配置参数 | 平均耗时 (ms/step) | 显存峰值 (MB) |
| :--- | :--- | :--- | :--- | :--- |
| **2D FDTD 算子** | FP32 | Batch=1, 256x256 | 0.21 | 9.6 |
| **2D FDTD 算子** | FP32 | Batch=1, 512x512 | 0.22 | 14.1 |
| **MobileNetV2** | FP32 | Batch=8, 3x224x224 | 11.72 | 101.9 |

---

## 3. 移动端边缘设备推断基线 (Android Tablet)

通过 `lab/mobile_benchmark` 内的操作流，将 1D/2D PDE 的特征提取结构（MobileNetV2 结构模拟量）打上 INT8 标点后部署至物理 Android 设备，评估量化后的位移稀疏架构真实表现。

*参数：Batch=1，输入 224x224x3，`benchmark_model` 内核调度 4 线程。*

| 平台 / 后端 | 精度模式 | 平均推理时间 (ms/frame) | p50 延迟 (ms) | 内存峰值 (MB) | 模型包大小 (MB) |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **移动端 CPU** | **FP32** | 21.45 | 21.28 | ~39.1 | 13.98 |
| **移动端 CPU** | **INT8 (全整型)** | 8.87 | 8.67 | ~14.8 | 4.01 |
| **移动端 GPU** | **FP32** | 24.81 | 24.25 | >120.0 | 13.98 |

**基线结论**：
采用全整型（INT8）量化时，延迟从 21.45ms 降至 8.87ms，且物理包体压缩超 70%。此数据表明，类似于基于位移门控所构建的网络由于不含边缘端难以处理的非标算子，可直接通过常规 CPU 多线程+整型量化体系获取巨大的部署收益，甚至超越移动端 GPU 效率。

---
*(基准测试生成于 v0.1 版本整合期。如有模型拓扑变动，应统一执行上述评估基准以验证优化收益。)*
